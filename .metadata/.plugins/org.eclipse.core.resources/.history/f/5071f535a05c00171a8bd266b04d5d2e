package com.chinasofti.Test.test4_1_2;

import java.beans.PropertyVetoException;

import org.springframework.jdbc.core.JdbcTemplate;

import com.mchange.v2.c3p0.ComboPooledDataSource;

public class Test {
	public void initDataSource() {
		ComboPooledDataSource cpd = new ComboPooledDataSource();
		cpd.setJdbcUrl("jdbc:oracle:thin:@localhost:1521:orcl");
		try {
			cpd.setDriverClass("oracle.jdbc.OracleDriver");
		} catch (PropertyVetoException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		cpd.setUser("spring");
		cpd.setPassword("123");
		//设定初始化数据库连接的数量
		cpd.setInitialPoolSize(3);
		//设定连接池的最大连接数
		cpd.setMaxPoolSize(10);
		//最小连接数
		cpd.setMinPoolSize(1);
		//设定一次申请数据库连接的数量
		cpd.setAcquireIncrement(3);
		//设定数据库连接允许的最大空闲时间
		cpd.setMaxIdleTime(100);
		JdbcTemplate jt = new JdbcTemplate();
		jt.setDataSource(cpd);
	}
}
